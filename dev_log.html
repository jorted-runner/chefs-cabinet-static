<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Danny Ellis">
    <meta name="description" content="Dev Log for Chefs Cabinet.">
    <meta property="og:title" content="Chefs Cabinet Dev Log">
    <title>Chefs Cabinet Site Dev Log</title>
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/smaller.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500&family=Montserrat&family=Poppins:ital,wght@1,500&family=Roboto:wght@300&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Chefs Cabinet Dev Log</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="site-plan.html">Site Plan</a>
            <a href="dev_log.html">Dev Log</a>
            <a href="https://www.chefs-cabinet.com/" target="_blank" rel="noopener noreferrer">Chefs Cabinet Site</a>
        </nav> 
    </header>
    <main>
        <section class="devPost">
            <h1>May 8, 2024</h1>
            <p>
                I finished the shopping list generation. I really didn't like how it was handled before so I rebuilt the process of displaying it. I had to update the prompt being sent to the OPENAI API so that it always sent me back a JSON with specific key values. From there it allowed me to better build the template html to be structured how I wanted it. Rebekah makes her shopping list by category i.e. Dairy, Protein, Produce, etc. so that is how I had the shopping list structured. I built the page displaying it to allow the user to add new categories if they would like. They can also edit any item on the shopping list or add new items a category.
            </p>
            <br>
            <p>
                I've struggled with the prompt for a while but I'm not sure how to make it much better. I really want the list to be built how a normal person would shop. For example if a recipe calls for a cup of diced onions and a cup of chopped onions for another recipe I know I need one maybe two onions. I've put some instruction into the prompt to try and force it to do this for the user but it struggles with it sometimes, especially with spices. If one recipe calls for a teaspoon of something and another a tablespoon it struggles to just tell me I need salt.
                <br>
                <br>
                <i>prompt = f"I'm planning to cook several recipes and need to create a shopping list based on their ingredients. Please provide the items needed along with their quantities, categorized into Protein, Produce, Dairy, and Pantry. In the JSON, ensure to use the keys 'item' and 'quantity'. 'item' should only include the item name without its state (e.g., chopped, diced, minced, cooked, etc). 'quantity' should indicate the quantity with the unit (e.g., lbs, cans, bundles, etc). Round the quantities up to the nearest whole number. Combine similar ingredients and sum their quantities accordingly. Here are the ingredients: {ingredients}"
                </i>
            </p>
            <br>
            <p>
                I'm also struggling to decide how to handle the shopping list. I can't decide if I need to save the shopping list to the users profile so they can access it at any time or if I should just allow them to see it the once and print off a PDF file I create of the list. I also just had another idea. I save the shopping list to the users profile but just overwrite it every time they create a new one. So when they hit save it is saved to their profile and the can access it again, but when they go to generate a new one it just replaces the existing list. I just don't want them to have to sort through tons of lists that aren't that helpful anymore. I think I'm going to move forward with that idea I just had. I think its a good compromise of not storing a ton of lists but still allowing the user to comeback to their list to view and edit it.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>May 7, 2024</h1>
            <p>
                Today I worked on the generate shopping list. Generating the shopping list wasn't to bad, but for some reason serving it to the html file is proving more difficult. I found one way that I really don't like but it works. Right now the shopping list is being passed to the server as a string for some reason rather than a json or even a list. So when the page loads I pull the string into JS, parse it as JSON and then build the list from there. I don't like it though because I feel like it adds extra steps/complexity to something that should be simple. I'll probably need to revisit how I handle the data in the server. Probably need to look at the recipe generation and see how I do it there.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>May 6, 2024</h1>
            <p>
                So I was revisiting how user uploaded images are being processed. I fixed the profile picture and the cookbook upload image to be processed after the user clicks save. Before every time they chose a file in the file input it was uploading it to S3, which is just a waste of resources. I still need to update the recipe images process because its still uploading each image to S3 even before the user saves their changes. It'll take little longer to implement so I'll add that to the do to list and tackle it later, because its working, just not as efficiently as I would like. 
            </p>
            <br>
            <p>
                I was right. It did take a while longer to refactor the way user uploaded recipe images were processed. But it allowed me to implement the 'delete' button. Users can now add up to 10 images and can remove any images they want. I did add a check so that if they only have one image the delete button is not accessible.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>May 5, 2024</h1>
            <p>
                Today was another light day. I found a bug where when a user uploaded a new cover image for a cookbook it actually wasn't being saved, so the cover image never changed. It wasn't so much a bug as it was just me forgetting to add the image processing. So I fixed that and now the users chosen file actually gets saved to S3 and will be displayed.
            </p>
            <br>
            <p>
                I also created the ability to delete cookbooks. This one took me a while. I get trying to delete each recipe from the cookbook_recipes table associated with the cookbook and then the cookbook itself. I'm not sure I understand why that wasn't working but it didn't. I kept getting none type. But I changed the way I deleted it and I just deleted the cookbook straight out and that automatically deleted the associated recipes in the cookbook_recipes table.
            </p>
            <br>
            <p>
                From here I'll start working on the shopping list generating. I'm trying to decide how I want to store it, or if it want to store it at all since that would require another database migration. I could also just display the list and then generate a pdf or something that the user can download immediately.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>May 4, 2024</h1>
            <p>
                Didn't do too much but I did finish update cookbook. The user can now edit the privacy, name, or cover image and remove recipes. From there I'll be able to add the ability to generate the shopping list. I need to go update the edit profile to so that the image is not uploaded until the user saves the changes. I want to display it the same way I am with the update cookbook cover image. I should also look at how I'm allowing users to upload images to their recipes. I should just allow them to choose the file, have it display and  then they can click add image to have another file input box show up and then upload the images to S3 after the user has clicked save.
            </p>
            <br>
            <p>
                I don't want to forget this idea a friend gave me. He said it would be cool for the user to have the ability to actually print and purchase their own cookbooks. I'll have to look into finding a supplier to print and send the cookbooks, because that could be a cool way to offset the cost of running the AI model. He had some other feedback about the styling of the page and better optimizing it for desktop.
            </p>
            <br>
            <p>
                At some point I'm going to need to revisit all of my JS and create a utils module that I can have commonly used functions to cut down on repeated code.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>May 3, 2024</h1>
            <p>
                I added this check before the "Add to Cookbook" button: <i>{% if 'iPhone' in request.user_agent.string or 'iPad' in request.user_agent.string %}</i>. It just checks if the user is on an iPad or iPhone, and if they are, the button is hidden. I don't want to have this feature permanently blocked on iPhone but until I can figure out the weird image z-index issue. iPad and iPhone users can still add recipes to their cookbooks if they go to the recipe page.
            </p>
            <br>
            <p>
                I've been working on the edit cookbook page. I want the next feature to be the create shopping list but I feel like the user needs to be able to edit the cookbook first. The shopping list will be created based off of the cookbook, so they need to be able to remove recipes they don't actually want included. The JS to do this is almost done, I just need to send the data to the server and finish the server side data to save and update the cookbook info. The part that I think will be the 'hardest' is removing the recipe that are longer part of the cookbook.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>May 2, 2024</h1>
            <p>A couple updates:</p>
            <ul>
                <li>
                    <p>
                        <strong>Cookbooks: </strong> I added the ability to add recipes to Cookbooks. The user can create public or private cookbooks that store recipes. Each recipe card has a button to add the recipe to a cook book. When pressed it displays a hidden div that has a dropdown that shows all of the cookbooks the user has created. They can either choose an existing cookbook or create a new one. If the user selects 'New Cookbook' it will change the drop down into a text input that allows them to enter the cookbook name and add a secondary drop down that allows the user to select 'Public' or 'Private'. I use JS to send the data to the server and depending on the response I display either an error message on the card or a success message. I don't think this is the best way to do it, but when the user closes the form div it triggers a page reload and scrolls back to the same y-cord on the page. I'm doing this so that to when they then go to add a new recipe to their cookbooks the list of cookbooks has the most up-to-date information.
                    </p>
                    <br>
                    <p>
                        An issue I'm still trying to figure out is on iPhone and iPad when the user clicks the 'add to cookbook' button the div populates, but it is hidden behind the recipe image for some reason. I have tried a bunch of things to get around this but so far its been a persistent issue. I have tried adjusting the z-index of the image and of the form div in css and even with the js code, but nothing I've tried has worked. The images are lazy loading which I thought could be causing the issue but I tested it out lazy loading and the issue still persisted. I tested the site on 3 different browsers on my iPhone and every single time I had the same bug. The issue doesn't happen on Mac or Windows, even if the window is sized down to mobile dimensions.
                    </p>
                    <br>
                    <p>
                        On the Profile page I added two buttons if the user has any cookbooks. If they have cookbooks a "Recipes" and a "Cookbooks" button show up. When the recipes button is pressed all the users recipes are showed. When the "Cookbooks" button is pressed all the recipes are hidden and the cookbooks are shown. The default is to show the recipes.
                    </p>
                </li>
                <br>
                <li>
                    <p>
                        <strong>Followers: </strong> I created a way for the user to follow certain users. If the user is not following anyone the homepage is populated with all of the recipes in the database, I may need to work on pagination or something as more recipes are created. After a user has people they are following their homepage is populated by recipes they have created and all recipes created by the users they're following. The search page then shows a random selection of recipes, kind of like an explore page. When the user clicks the follow button the data is sent to the server and the page reloads and scrolls to the same place. I feel like it works pretty well, because I want the data to reload so that the data being used reflects the new follow. The one issue I have with it is if the user follows someone off of the search page, it will reload the page and reload a new set of recipes to display, or if they found the recipe/user from a search the search is cleared. I want to find a way to update the information being used to render the page without having to reload the whole page, because sometimes the change after the reload feel abrupt.
                    </p>
                    <br>
                    <p>
                        I also added the follower/following count to the profile page. It is just a table with the number. I did add a feature where the user can click on the number and it will show a list of followers or following depending on which number pressed.
                    </p>
                </li>
                <br>
                <li>
                    <p>
                        <strong>Recipe Card Slides: </strong> I updated the slide show element so that if there is only one image a class of hidden is added to the buttons and the dots. That way the slide show navigation elements are only visible when they can actually do something.
                    </p>
                </li>
                <br>
                <li>
                    <p>
                        <strong>Recipe Generation: </strong> I updated the recipe generation process. The process before was add ingredients you want to use and ingredients to exclude. The the user could generate a recipe. When the recipe was generated the user could then regenerate the recipe with the same parameters or generate an image. After an image was generated then the user could save the recipe. I updated the process so that the user first adds the ingredients to include and ingredients to exclude. They can then generate a recipe like normal. The options from there are to 'edit the inputs and regenerate' or generate a recipe image. If the user chooses to edit the inputs and regenerate all of the recipe ingredients are listed in the ingredients to include and their original ingredients to exclude. This allows them to then remove or add new ingredients to include or exclude and generate a new recipe. The user can then generate an image, regenerate the image if they don't like it, and still edit the inputs of the generation to get a new recipe.
                    </p>
                    <br>
                    <p>
                        There was also a weird glitch where if the user regenerated the image the new image was displayed but when the user clicked save the first image was the one saved not the new one. I updated this so that when the image is regenerated the hidden form that is submitted to the server on save is deleted and rebuilt. Just to insure that the correct image data is being processed.
                    </p>
                    <br>
                    <p>
                        Another small fix was making it so that when a user clicks the save button the screen is disabled and a spinner is displayed until the recipe is saved and the user is redirected to the correct location. I found that without the spinner popping up the user would click save multiple times if the saving was happening slowly, causing the recipe to be added to the database more than once.
                    </p>
                </li>
                <br>
                <li>
                    <p>
                        <strong>Database: </strong> This is probably a lack of knowledge about server management, but when I've updated the database schema to have new tables or new table columns the server won't update the existing database file I have to create a new database file. And then run a separate script to migrate the existing data to the new database file. It's not a huge issue but does take time to update the migrate_db file with SQL statements that will correctly migrate the data to the correct location.
                    </p>
                </li>
                <br>
                <li>
                    <p>
                        <strong>Search: </strong> I updated the search on the server. It used to take the input as a single string and then it would search for that string in different columns of the Recipe, User, and Cookbook tables. I updated it so that the first thing it does is split the input value at any spaces. From there is will then loop through each of the values from the split and append the results for query based off of that term. This allows for a broader search that is a little bit more inclusive.
                    </p>
                    <br>
                    <p>
                        I want to add a feature where there is a drop down on the search page to filter the recipes by average rating. Right now its a hard process to implement because there are only a few recipes with any reviews but I may still add it.
                    </p>
                </li>
            </ul>
            <br>
            <p>Upcoming Features</p>
            <ul>
                <li>Shopping List Generator (Create an editable shopping list, based off recipes you're going to good over the next few days/weeks.)</li>
                <li>OAth - I want to use 3rd party login/registration.</li>
                <li>During Recipe Generation show ingredient suggestions</li>
                <li>
                    Generate Recipes based off of just the name. Essentially the user would input: I want to make KFC style fried chicken. And the system would generate a recipe to make that recipe. Generate Recipes based off of category. Let the user put in a string such as: I want to make a healthy recipe that includes spinach but excludes tomatoes. These will just be tweaks on the current process of generating recipes, but it may be more involved than I'm realizing.
                </li>

            </ul>
        </section>
        <hr>
        <section class="devPost">
            <h1>April 25, 2024</h1>
            <p>
                Working on uploading profile pictures. I am only allowing the profile picture to be 200px by 200px so I've been working on a way for the user to select what area they want displayed. Right now the image is being cropped, but it doesn't exactly match the area selected by the user. So there is some error with the logic there.
            </p>
            <br>
            <p>
                I also had to install a bunch of dependencies for a class I'm taking and it messed up my installation of python and it took me like an hour to get python working again on my computer. I'm still not sure what happened, but I just uninstalled python and then reinstalled the latest version.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>April 24, 2024</h1>
            <p>
                I've been working daily on the project but just haven't taken the time to update the dev log.
            </p>
            <br>
            <p>
                I added the ability to edit your recipe. As a part of that a user can upload multiple images that will be displayed on the recipe card. It took a while to work out how to show the image and to loop through them when the user clicks on the button. I have an issue where I have to display the slide navigation buttons. Anytime I make it so that they don't display when there is only one image, the image also won't display. I think its an issue in the javascript but I can't find the bug. I'm going to leave it alone for now because it works, it just annoys me that the button is there. 
            </p>
            <br>
            <p>
                I also redid the database to allow for followers and following. I haven't done anything with it yet because I'm not sure how I want to handle it. But the ability to do it exists now. I still need to code in a max number of images. I don't want users to go crazy. I think 10 is good.
            </p>
            <br>
            <p>
                I start my new semester this week so development will slow down, but next up is looking into better user authentication. I want to allow users to sign in with google/facebook/apple id.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>April 18, 2024</h1>
            <p>
                Its been a few week since I last updated this Dev Log. Chefs Cabinet is now live and online. It took me a while to get it fully configured and running. But now it works great! It's only crashed once. The AWS machine CPU usage spiked to 100% for several minutes causing it to go offline. But besides that its been working pretty well.
            </p>
            <br>
            <p>
                Here a few things I've dealt with over the last couple weeks:
            </p>
            <ul>
                <li>
                    Learning linux. I've never used linux before and the AWS EC2 instance that they site is running off is a linux machine. It took a while to get comfortable navigating the computer system and learning the the commands that would allow me to edit files, remove files, move them around, git cli commands instead of the git commands built into VS code.
                </li>
                <li>
                    Learning about Apache2 and wsgi was a struggle. It took a while of trial and error, and asking chat-gpt, to finally get the configuration files set up correctly. It was frustrating when I ran into an issue that seemed to have no answer. It always did but it took me hours or days to find. I definitely need to improve my google skills to better find solutions to issues I'm having.
                </li>
                <li>
                    I've also been head down in adding features and fixing bugs now that people I know are using the site. There are only a handful of users, around 8, but I've already found bugs or features lacking thanks to them. The site is much better now than it was a few weeks ago because people are using the site! I've added search functionality. This allows users to search for specific users or recipes. I've added a profile page that shows all of the recipes a single user has added. This also serves as a hub for the user to be able to edit their profile. Each recipe can now be rated and reviewed. The average rating is showed next to the recipe title at the top of the recipe card.
                </li>
            </ul>
            <p>
                The development is going well. I have more features I want to add in the future and will continue to roll out updates to the website pretty regularly.
            </p>
            <br>
            <p>Future Features:</p>
            <ul>
                <li>Followers/Following</li>
                <li>Edit Recipe</li>
                <li>User Uploaded Photos</li>
                <li>Cook Books (User generated recipe collections)</li>
                <li>Shopping List Generator (Create an editable shopping list, based off recipes you're going to good over the next few days/weeks.)</li>
                <li>Update search to be more accurate. Right now it searches for exact matches to the search term.</li>
            </ul>
        </section>
        <hr>
        <section class="devPost">
            <h1>April 1, 2024</h1>
            <p>
                Today I reworked the image handling. The image is downloaded and converted to webp. During the conversion I also change the image width and height to make the file size a lot smaller. I may still lower the image quality as well to try and cut down on load size. But we'll see. I may also need to start thinking about how to tell the website to load only so much data at a time. Like load in batches. I do have the images set to lazy load but I want to be sure I'm not slowing down the site performance.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 30, 2024</h1>
            <p>
                I worked on the card styling some more. Its pretty much done. I feel like the page needs some more color splashed in but I'm not good with color design. I'll work on adding that eventually. But for now I'm happy with how the cards look. Next I'll start styling the different forms.
            </p>
            <br>
            <p>
                The site also has the functionality I wanted before I worried about getting it online. That will be the next big project is finishing that Udemy course and getting the site online. After that I have some features and quality of life updates I want to add, but the basic functionality is ready to go. I want to have some people start using it so I can get feedback on what needs to be changes or improved.
            </p>
            <br>
            <p>
                On the topic of functionality I have noticed when saving a created website it takes a while for the image to load when it's first added to AWS. It makes me question if that really is the best place to store them. When the user hits save they are redirected to the main feed and they can see and interact with the recipe card they just created but the image doesn't show up for several seconds while its being processed by AWS. After that initial pause the load time is way faster. But makes me kind of consider saving them 'locally' or just adding a little bit of a 'processing period' before their card shows up. But I'm not really sure how I would implement the processing period.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 28, 2024</h1>
            <p>
                Today I worked on some styling and making a list of what is left to do. I also changed the images to save in the S3 bucket. Still not sure if I prefer that but it feels right, so I'm going to stick with it.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 27, 2024</h1>
            <p>
                I've got it working to save the recipe now. I just created a hidden form and pass those values to the server when the save recipe button is pressed. Its being created when the user clicks the generate image button, because if that is triggered the page has all the required data to be able to be saved.
            </p>
            <br>
            <p>
                I also decided to just save the images to local for now. I need to research more about storing the images in an S3 bucket. I want to be sure that the security and permissions associated with the bucket don't cause issues but also don't give the user more access than they're supposed to have. I may end up just storing them locally in the EC2 after we migrate, but I need to figure out the cost of the data expanding that way. With the images I also need to create a few classes that will allow the image to be optimized for the web. I need it to be way smaller and the quality dropped a bit to keep the page load size down.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 25, 2024</h1>
            <p>
                I've just been working the website. I have the register, login, and logout all working. I have the database set up with some possible modifications that will be done in the future. I decided to just build custom forms rather than use the wtforms. I just decided it would be easier to get the style and functionality I want. The next thing I'm going to be working on is saving recipes. I may need to create a hidden form that stores the data and I can just pass them to the server, but I still need to think about the best way to do it.
            </p>
            <br>
            <p>
                I was doing some more testing with the login and register pages and neither is properly displaying their errors. When logging in it's supposed to warn you if you have the incorrect password or the email isn't a valid email, but right now its not. It just redirects you straight to the register page. The register page does something similar. If the user tries to register with an email already in the database it just goes straight to the login page, but it doesn't tell them why.
            </p>
            <br>
            <p>
                I've got the error messages fixed. Now I'm just stuck trying to figure out the best way to save recipes. Its going to require I look at and refactor the JavaScript I use to create the new_recipe page forms. I think I need to look for points where I can save data at a global level that will be easily passed to the server. Right now I'm thinking I just need to create a form that is hidden except for the save button. Pressing the save button will pass all the hidden recipe data to the server. I just need to think of the best way to populate the form without having to code to completely unique forms with JavaScript for the AI generated recipe and the user input recipe.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 20, 2024</h1>
            <p>
                So far today I have got the login and register pages built. I am using bootstrap and wtforms, but I may change to just a plain old html form so that I can style it custom. At the moment I'm using a forms.py file to build out the forms, so there may be a way to assign each item a class or id from there. If there isn't I'll just build the html form myself.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 19, 2024</h1>
            <p>
                I'm working on the Udemy course still. So far its going pretty well. There will be some tweaks I need to make to the process but his tutorial is a good starting point. So far it is the most complete and comprehensive Flask app deployment tutorial I've come across. But I think I've been too focused on getting the site online and not enough on actually finishing the project. I think if I put my head down and code, I could probably have the project in a useable state in a few weeks.
                <a href="https://www.udemy.com/course/deploying-web-apps-simplified-quick-or-in-depth-on-aws/?couponCode=ACCAGE0923">Deploying web apps for new developers on AWS ec2 | Udemy</a>
            </p>
            <br>
            <p>
                Today I worked on diagraming the Database in workbench. I'm a little stuck on the relationship between the user and followers and who they are following. I may just leave that out and add that feature in the future rather than getting too stuck on it. Right now with no users the database can be overhauled whenever I need so I just created the basic User Recipe database and am going to just work on getting the recipes saved and called uniformly.
            </p>
            <br>
            <p>
                Sometimes I start to wonder if I'm afraid to finish this project with how long its taken. From first conception of the idea to now its been about a year. Granted its been a crazy year, but i keep allowing myself to plateau or get distracted by other things. I really just want to get this project finished. The udemy course also gives some vague instructions on how to run more than one website off of one AWS EC2 instance. So after Chefs Cabinet is up and running I will get my 'About Me' site and 'Flight Club' web app running off the EC2 so that I can manage all of them from one place.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 15, 2024</h1>
            <p>
                So I have bought a domain name. Cooks Corner was not available, so we have pivoted into Chefs Cabinet. Moving forward the project will be Chefs Cabinet. I'm excited to have finally found a tutorial about how to get the site off local and onto the web.
            </p>                   
        </section>
        <hr>
        <section class="devPost">
            <h1>March 4, 2024</h1>
            <p>
                Just a quick update. I haven't done anything on Chefs Cabinet in over a week. I'm still working on the Database course and I want to learn more about setting up an efficient and well designed DB before I get to far along in this project. I started the Udemy Course about deploying a Flask app to AWS. I have just been watching videos and practice examples but I should know enough soon to deploy Chefs Cabinet to the web. After that I'll be able to start getting feedback on how the site is working.
            </p>                   
        </section>
        <hr>
        <section class="devPost">
            <h1>February 27, 2024</h1>
            <p>
                For later: <br>
                <a href="https://aws.amazon.com/blogs/opensource/automate-python-flask-deployment-to-the-aws-cloud/">Flask and AWS</a><br>
                <a href="https://marketsplash.com/tutorials/flask/how-to-deploy-flask-on-aws/">How to deploy Flask on AWS</a>
            </p>
            <br>
            <p>
                I also found a Udemy course about deploying Flask apps to AWS. I think both will be helpful. I think part of what has made this process so hard, is that on AWS there are tons of different options for deployment.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 26, 2024</h1>
            <p>
                I've started working on a Database course. With this course I hope to be able to better understand the structure and relationships to make an effective database. I need to store several different things:
            </p>
            <h4>User</h4>
            <ul>
                <li>Name</li>
                <li>Email</li>
                <li>Password</li>
                <li>Username</li>
                <li>Recipes</li>
                <li>Likes (Still not sure I want to add these)</li>
                <li>Comments</li>
                <li>Saves - Probably called Recipe Book or To Cook</li>
                <li>Following</li>
                <li>Followers</li>
            </ul>
            <h4>Recipe</h4>
            <ul>
                <li>Title</li>
                <li>Description</li>
                <li>Ingredients</li>
                <li>Instructions</li>
                <li>Image</li>
                <li>Comments</li>
                <li>Likes</li>
                <li>User</li>
            </ul>
            <p>
                I'm still having a hard time finding more information about hosting a Flask Web App on AWS. I'm not sure why its so difficult to find good/helpful information about this... but it has been. I'm almost tempted to just host it on Heroku again despite the costs, just because I know how to do that. And it wasn't that hard. But I like the idea of AWS because the cost of hosting is much lower. And that is where the images are being stored already.
            </p>                  
        </section>
        <hr>
        <section class="devPost">
            <h1>February 23, 2024</h1>
            <p>
                So I finished deploying the example flask app to AWS. It was honestly not that hard. I could probably get Chefs Cabinet deployed to it pretty quick. But I still need to learn more about how to hook it up to GitHub so that when I push code to the repo the deployed app also gets updated. I'll read through that article. Hopefully that will be enough to understand that process better. In the mean time I may just deploy Chefs Cabinet as is, so that I can start getting some people using it.
            </p>
            <p>
                I started working on deploying a temporary version of Chefs Cabinet. The example deployment was super easy, but now that I have multiple Python files, HTML, JavaScript, and CSS files its proving to be more difficult. It's going to take some research and probably some hours on youtube to figure it out.
            </p>                    
        </section>
        <hr>
        <section class="devPost">
            <h1>February 22, 2024</h1>
            <p>
                Didn't do much today. I'm pretty exhausted. But I did begin learning about deploying a flask app to AWS. I'm going to deploy a simple example project and then work on deploying this one. Deploying Chefs Cabinet will be harder because I'm also wanting to connect it to GitHub so that updates when I push code to the repo. I got the process started but will try and finish it tomorrow.
            </p>                      
        </section>
        <hr>
        <section class="devPost">
            <h1>February 21, 2024</h1>
            <p>
                Today I have been working on recipe generation. It took me a little while to parse the JSON data after it was passed back from the server. But after that it was just a matter of creating the correct elements. I added a regenerate recipe if the user doesn't like the recipe that was created. Next up is add the generate image and regenerate image button. I want to add a way for the user to 'restart' and edit the ingredients they wanted included or excluded. That may be a future feature. But we'll see how ambitious I feel.
                <br><br>
                Recipe regeneration is finished. As well as image generation. I was going to work on adding the ability to 'edit' the ingredients and regenerate the recipe. I decided not to work on that until I've gone through and refactored the JavaScript. Everything is working, which was the main focus of this first pass. Now I want to go through and break it down so that there isn't so much code that gets repeated. Just looking through the file I know that there are lots of places that can be broken off into a function that can be called from multiple places.
                <br><br>
                Next I have a few choices of what I want to work on.
            </p>
                <ol>
                    <li>Work on saving the data to the database</li>
                    <li>Get the site up and running on AWS</li>
                    <li>Work on Login/Registration System</li>                    
                </ol>
            <p>
                As I'm writing this out I came up with probably 10 more things I could be working on. But they all came back to having a database set up. And having recipes stored there. I decided that I'm going to work on getting the site up on AWS so I can start to get feedback on how the recipe generation is working. And what people would like to see changed. I'll then begin work on the database. Or... I guess I could always work on styling....
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 20, 2024</h1>
            <p>
                I going to work on the AI recipe generation but I think I want to finish the Blank Recipe section. I believe all that is left is to have a processing pop-up and disable the buttons while the script is running to generate the images. Right now it takes probably 20 seconds to generate the image and while its being generated the user has no indication that anything is happening. When I had Rebekah try to use the site she hit the button like 10 times because she didn't know that it had worked.
                <br><br>
                After the loading/processing pop-up is finished I will work on the actual recipe generation. Shouldn't be too hard, I just need to update the old code to work with the new API documentation. I still haven't began working on the database and will wait until I finish this page. I want to make sure that I am getting and using the data in a uniform manner, to ensure that no matter how the user enters the data it won't break anything.
                <br><br>
                I finished adding the spinner. It covers the whole display and then disappears when the image is generated. It took me a while to get it to actually cover the whole screen. But it now works. Right now I have it as a fairly transparent black background with the light blue color from the color pallette. I may change this but it functions, and that is what matters.
                <br><br>
                I've been working on the recipe generation. I keep getting this error:<br><br>[2024-02-20 21:47:21,093] ERROR in server: Error in generate recipe route: unhashable type: 'dict'<br><br>I'm not sure why. I've spent some time testing different variations, but keep getting the same error. It may be the way that they ingredients are being stored or maybe the way that they are being passed to the server.
                <br><br>
                Okay I didn't actually get off... I went in and figured out what the issue was. The issue actually originated from AI_tool class. I hadn't refactored the message being sent to the API. It was trying to format it like a dictionary like the API used to want. So now I have the recipe generation working. Tomorrow I'll work on populating the data into the website and generating an image for the user to see.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 19, 2024</h1>
            <p>
                Leaving these here so I don't loose them.<br><br>
                <a href="https://aws.amazon.com/tutorials/serve-a-flask-app/">Deploy Flask to AWS</a>
                <br>
                <a href="https://community.aws/tutorials/automating-your-container-deployments-with-cicd-and-github-actions?ref=dc&id=dc-handson">Github and AWS</a>
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 18, 2024</h1>
            <p>
                So today I spent some time working on getting image generation working again. OpenAI had made a few changes to their API that I had to work around, which were super easy to implement, but it didn't work after implementation. I spent probably an hour reading through the documentation, asking ChatGPT, reading stackoverflow, but nothing. Everything I was doing seemed to be set up right and should have been functioning, but it wasn't. Finally I started looking at my .env file and realized that it was saved as "env", rather than ".env". I changed it, and immediately it all worked. What it taught me was if the code isn't working, its probably an error I caused.
                <br><br>
                The next issue with the image generation is that OpenAI only allows for 5 requests a minute. Which while I'm just testing and using the site myself that should be plenty, but if we every get to a mass of users that may be an issue. I may need to look into other options for generating the images. I used to have it so that when the user requested images for their site it showed two options and they chose from the two, but with the updates to the API and Dall-E-3 it only allows for 1 image to be generated at a time. So I will probably just have to work with that. Show the user the one image, then allow them to request regeneration if they want to see a new image.
            </p>                      
        </section>
        <hr>
        <section class="devPost">
            <h1>February 17, 2024</h1>
            <p>
                I touched up the new blank recipe form. Right now it's storing the data in lists, may change eventually. I also began working on image generation. I need to read the OpenAI api documentation again, I think they changed how to access the API since last time I used it. I think it will be a pretty easy to fix, but it'll have wait until tomorrow.
            </p>                      
        </section>
        <hr>
        <section class="devPost">
            <h1>February 16, 2024</h1>
            <p>
                As I've been working on the form to add included and excluded ingredients. The form is working, except for the Enter Key submit. Right now the user types the ingredient into the input box and clicks add, doing so adds it to the list of ingredients internally and externally viewable by the user. I want the user to be able to hit enter to add the ingredient to the list, and they can, but the event listener triggers an error message, for the other input box, and then adds the ingredient to the correct list. But I am liking how the site is beginning to look, and I'm liking the UI for adding ingredients.
            </p>
            <h4>Site Preview</h4>
            <div class="preview">
                <img src="images/add_preview.webp" alt="Preview of add ingredients">
                <img src="images/added_preview.webp" alt="Preview of added ingredients">
            </div>
            <h4>Part 2</h4>
            <p>
                I spent some more time on the form and now it allows for the user to add via "Enter" or the button. I also figured out how to remove the specific item from the internal list. So now I'll be able to pass the correct ingredients to the AI recipe Generator. Next I'm going to finish the blank recipe form and work on 'storing' the data. From there I'm planning to add the ability to generate images, I want to just have a singular function that handles that so I need to work on how the form is storing the data. The original version of this project I got ahead of myself and kept running into issues where the data wasn't stored cleanly or uniformly so it was really hard to reuse code.
            </p>           
        </section>
        <hr>
        <section class="devPost">
            <h1>February 15, 2024</h1>
            <p>
                Today I worked on the JavaScript to populate the new recipe page. Its going pretty well, nothing too crazy. I started wondering how to best pass the added ingredients to the server the user is ready to generate their recipe and I decided to create a list in JavaScript. Right now every time a user adds an ingredient it gets added to the list. But for some reason when they click the remove button it won't remove it from the list. Here is the JavaScript:
                <br><br>
                ingredientsInclude = ingredientsInclude.filter(item => item != ingredient.textContent);
                <br><br>
                I'm going to have to figure out why its not working, and its probably something simple but I don't have it in me today to figure it out.
            </p>           
        </section>
        <hr>
        <section class="devPost">
            <h1>February 13, 2024</h1>
            <p>
                I began adding the new recipe process. And I found the main navigation icons I want to use. I can't decide if when the user presses the "+" for a new recipe if the menu should expand to show:
            </p>
                <ul>
                    <li>AI Assisted Recipe</li>
                    <li>Blank Recipe</li>
                </ul>
            <p>
                Or if when the user presses the button it should take them to a separate screen that starts with a drop down with those two options, and based off of their selection I use JS to build out the appropriate form.
            </p>
            <br><br>
            <p>
                After working on it for a little while I decided on a drop down on a new page that will then add the appropriate form to the new recipe page based on their selection. It will then hide the drop down to prevent the user from changing it by accident midway through the process.
            </p>
            <h4>TO ADD:</h4>
            <p>
                This could look really dumb, but I want to change the bullet points for "&lt;ul&gt;" to be 🍽️ or some other food-related emoji.
            </p>            
        </section>
        <hr>
        <section class="devPost">
            <h1>February 11, 2024</h1>
            <p>
                Today I started creating the python server and the home page for Chefs Cabinet. So far its just been super basic blocking things out. After I finish blocking on the homepage I'll start the new recipe process. After clicking the new recipe button, the user will need to select create recipe using AI or add personal recipe (I don't love the way add personal recipe sounds, so that'll probably change). If the user selects AI Recipe they will be directed to a form that will ask what ingredients they want to include and which they want to exclude. As I refine this process I may add more options like add the category you want to make, i.e. soup, pasta, pizza, mexican, casserole, etc. ...Actually as I type this out... I'm just going to add that from the start. The form will ask for ingredients, things to avoid, and category of food.
            </p>
            <h4>Concerns</h4>
            <p>
                As I'm beginning to rebuild the project, I have the old source code open. But as I'm looking through it I'm afraid to copy too much of it because I really don't want to end up with the same spaghetti code that I had before. The reason I wanted to start this project from was to be able to better structure the code as well as create a more cohesive design.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 9, 2024</h1>
            <p>
                Today I created the wireframe for the websites main feed. This will be where you can see all of the recipes posted by users you follow. Each recipe will have its own 'card'. The card will have a header with the recipe title as well as the user name. The card will then show the A.I. generated image of the recipe and the recipe description. under that it will show a preview of the comments on the post as well as reviews.
                <br><br>
                To see the full recipe the user needs to click anywhere on the image, description or header areas. After clicking this area the card will flip over and expand. The image will shrink and move to the left, the description will move up and next to the image. The rest of the card will show the ingredients and the instructions. The expanded card will be scrollable depending on how much of an overflow the content has. In mobile the card won't get wider it will just take up the full screen and become scrollable.
            </p>
        </section>
        <hr>
        <section class="devPost"></section>
            <h1>February 6, 2024</h1>
            <h4>Overview</h4>
            <p>
                Chefs Cabinet is a project that I've been working on for quite a while. I have/had a working local copy of the site but the project had many short comings. The project was a lot of spaghetti code and lots of repeated code. I have learned a lot about how to plan and structure a project and have made the decision to start over. I will be using the portions of the old project as I move forward but I wanted to be able to have a fresh start so that I could tackle the project in a smarter way.
                <br><br>
                As I continue to work on Chefs Cabinet I will be posting on this page to provide updates and log the history of the project.
            </p>
            <h4>Project Update</h4>
            <p>
                This week I have been working on this project landing page. I have created the Home Page, started the Dev Log, and added the old project to its own folder on GitHub called OLD-COOKS-CORNER. I wanted to preserve the old project and have quick access to the old source code. Right now I've just been adding the rough build of this home page. This week I'll be adding styling to this homepage as well as creating the wireframe for Chefs Cabinet.
            </p>
            <br>
            <p>
                I've been working on selecting colors and Typography for the site plan. And I'm awful at choosing colors. I found a color palette that I liked but I don't feel like they really mesh that well. I'll need to adjust them still.
            </p>
            <br>
            <p>
                I talked to Amber and we agreed that the background color needed to be lighter. So I lightened it up and I'm a lot happier with the look of the site. I finished adding the site styling and now just need to finalize the wireframe.
            </p>
        </section>
        <hr>
    </main>

    <footer>
        <p><br>Danny Ellis<br>United States</p>
        <p id="lastModified">Last Modification: </p>
    </footer>
    
    <script src="scripts/getdates.js"></script>
    
</body>
</html>