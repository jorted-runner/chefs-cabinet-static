<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Danny Ellis">
    <meta name="description" content="Site Plane for Chefs Cabinet. Will detail what is Chefs Cabinet as well as the process of developing the site.">
    <meta property="og:title" content="Chefs Cabinet Site Plan">
    <title>Chefs Cabinet Site Dev Log</title>
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/smaller.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500&family=Montserrat&family=Poppins:ital,wght@1,500&family=Roboto:wght@300&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Chefs Cabinet Dev Log</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="site-plan.html">Site Plan</a>
            <a href="dev_log.html">Dev Log</a>
            <a href="#">Chefs Cabinet Site</a>
        </nav> 
    </header>
    <main>
        <section class="devPost">
            <h1>March 19, 2024</h1>
            <p>
                So far today I have got the login and register pages built. I am using bootstrap and wtforms, but I may change to just a plain old html form so that I can style it custom. At the moment I'm using a forms.py file to build out the forms, so there may be a way to assign each item a class or id from there. If there isn't I'll just build the html form myself.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 19, 2024</h1>
            <p>
                I'm working on the Udemy course still. So far its going pretty well. There will be some tweaks I need to make to the process but his tutorial is a good starting point. So far it is the most complete and comprehensive Flask app deployment tutorial I've come across. But I think I've been too focused on getting the site online and not enough on actually finishing the project. I think if I put my head down and code, I could probably have the project in a useable state in a few weeks.
                <a href="https://www.udemy.com/course/deploying-web-apps-simplified-quick-or-in-depth-on-aws/?couponCode=ACCAGE0923">Deploying web apps for new developers on AWS ec2 | Udemy</a>
            </p>
            <br>
            <p>
                Today I worked on diagraming the Database in workbench. I'm a little stuck on the relationship between the user and followers and who they are following. I may just leave that out and add that feature in the future rather than getting too stuck on it. Right now with no users the database can be overhauled whenever I need so I just created the basic User Recipe database and am going to just work on getting the recipes saved and called uniformly.
            </p>
            <br>
            <p>
                Sometimes I start to wonder if I'm afraid to finish this project with how long its taken. From first conception of the idea to now its been about a year. Granted its been a crazy year, but i keep allowing myself to plateau or get distracted by other things. I really just want to get this project finished. The udemy course also gives some vague instructions on how to run more than one website off of one AWS EC2 instance. So after Chefs Cabinet is up and running I will get my 'About Me' site and 'Flight Club' web app running off the EC2 so that I can manage all of them from one place.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>March 15, 2024</h1>
            <p>
                So I have bought a domain name. Cooks Corner was not available, so we have pivoted into Chefs Cabinet. Moving forward the project will be Chefs Cabinet. I'm excited to have finally found a tutorial about how to get the site off local and onto the web.
            </p>                   
        </section>
        <hr>
        <section class="devPost">
            <h1>March 4, 2024</h1>
            <p>
                Just a quick update. I haven't done anything on Chefs Cabinet in over a week. I'm still working on the Database course and I want to learn more about setting up an efficient and well designed DB before I get to far along in this project. I started the Udemy Course about deploying a Flask app to AWS. I have just been watching videos and practice examples but I should know enough soon to deploy Chefs Cabinet to the web. After that I'll be able to start getting feedback on how the site is working.
            </p>                   
        </section>
        <hr>
        <section class="devPost">
            <h1>February 27, 2024</h1>
            <p>
                For later: <br>
                <a href="https://aws.amazon.com/blogs/opensource/automate-python-flask-deployment-to-the-aws-cloud/">Flask and AWS</a><br>
                <a href="https://marketsplash.com/tutorials/flask/how-to-deploy-flask-on-aws/">How to deploy Flask on AWS</a>
            </p>
            <br>
            <p>
                I also found a Udemy course about deploying Flask apps to AWS. I think both will be helpful. I think part of what has made this process so hard, is that on AWS there are tons of different options for deployment.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 26, 2024</h1>
            <p>
                I've started working on a Database course. With this course I hope to be able to better understand the structure and relationships to make an effective database. I need to store several different things:
            </p>
            <h4>User</h4>
            <ul>
                <li>Name</li>
                <li>Email</li>
                <li>Password</li>
                <li>Username</li>
                <li>Recipes</li>
                <li>Likes (Still not sure I want to add these)</li>
                <li>Comments</li>
                <li>Saves - Probably called Recipe Book or To Cook</li>
                <li>Following</li>
                <li>Followers</li>
            </ul>
            <h4>Recipe</h4>
            <ul>
                <li>Title</li>
                <li>Description</li>
                <li>Ingredients</li>
                <li>Instructions</li>
                <li>Image</li>
                <li>Comments</li>
                <li>Likes</li>
                <li>User</li>
            </ul>
            <p>
                I'm still having a hard time finding more information about hosting a Flask Web App on AWS. I'm not sure why its so difficult to find good/helpful information about this... but it has been. I'm almost tempted to just host it on Heroku again despite the costs, just because I know how to do that. And it wasn't that hard. But I like the idea of AWS because the cost of hosting is much lower. And that is where the images are being stored already.
            </p>                  
        </section>
        <hr>
        <section class="devPost">
            <h1>February 23, 2024</h1>
            <p>
                So I finished deploying the example flask app to AWS. It was honestly not that hard. I could probably get Chefs Cabinet deployed to it pretty quick. But I still need to learn more about how to hook it up to GitHub so that when I push code to the repo the deployed app also gets updated. I'll read through that article. Hopefully that will be enough to understand that process better. In the mean time I may just deploy Chefs Cabinet as is, so that I can start getting some people using it.
            </p>
            <p>
                I started working on deploying a temporary version of Chefs Cabinet. The example deployment was super easy, but now that I have multiple Python files, HTML, JavaScript, and CSS files its proving to be more difficult. It's going to take some research and probably some hours on youtube to figure it out.
            </p>                    
        </section>
        <hr>
        <section class="devPost">
            <h1>February 22, 2024</h1>
            <p>
                Didn't do much today. I'm pretty exhausted. But I did begin learning about deploying a flask app to AWS. I'm going to deploy a simple example project and then work on deploying this one. Deploying Chefs Cabinet will be harder because I'm also wanting to connect it to GitHub so that updates when I push code to the repo. I got the process started but will try and finish it tomorrow.
            </p>                      
        </section>
        <hr>
        <section class="devPost">
            <h1>February 21, 2024</h1>
            <p>
                Today I have been working on recipe generation. It took me a little while to parse the JSON data after it was passed back from the server. But after that it was just a matter of creating the correct elements. I added a regenerate recipe if the user doesn't like the recipe that was created. Next up is add the generate image and regenerate image button. I want to add a way for the user to 'restart' and edit the ingredients they wanted included or excluded. That may be a future feature. But we'll see how ambitious I feel.
                <br><br>
                Recipe regeneration is finished. As well as image generation. I was going to work on adding the ability to 'edit' the ingredients and regenerate the recipe. I decided not to work on that until I've gone through and refactored the JavaScript. Everything is working, which was the main focus of this first pass. Now I want to go through and break it down so that there isn't so much code that gets repeated. Just looking through the file I know that there are lots of places that can be broken off into a function that can be called from multiple places.
                <br><br>
                Next I have a few choices of what I want to work on.
            </p>
                <ol>
                    <li>Work on saving the data to the database</li>
                    <li>Get the site up and running on AWS</li>
                    <li>Work on Login/Registration System</li>                    
                </ol>
            <p>
                As I'm writing this out I came up with probably 10 more things I could be working on. But they all came back to having a database set up. And having recipes stored there. I decided that I'm going to work on getting the site up on AWS so I can start to get feedback on how the recipe generation is working. And what people would like to see changed. I'll then begin work on the database. Or... I guess I could always work on styling....
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 20, 2024</h1>
            <p>
                I going to work on the AI recipe generation but I think I want to finish the Blank Recipe section. I believe all that is left is to have a processing pop-up and disable the buttons while the script is running to generate the images. Right now it takes probably 20 seconds to generate the image and while its being generated the user has no indication that anything is happening. When I had Rebekah try to use the site she hit the button like 10 times because she didn't know that it had worked.
                <br><br>
                After the loading/processing pop-up is finished I will work on the actual recipe generation. Shouldn't be too hard, I just need to update the old code to work with the new API documentation. I still haven't began working on the database and will wait until I finish this page. I want to make sure that I am getting and using the data in a uniform manner, to ensure that no matter how the user enters the data it won't break anything.
                <br><br>
                I finished adding the spinner. It covers the whole display and then disappears when the image is generated. It took me a while to get it to actually cover the whole screen. But it now works. Right now I have it as a fairly transparent black background with the light blue color from the color pallette. I may change this but it functions, and that is what matters.
                <br><br>
                I've been working on the recipe generation. I keep getting this error:<br><br>[2024-02-20 21:47:21,093] ERROR in server: Error in generate recipe route: unhashable type: 'dict'<br><br>I'm not sure why. I've spent some time testing different variations, but keep getting the same error. It may be the way that they ingredients are being stored or maybe the way that they are being passed to the server.
                <br><br>
                Okay I didn't actually get off... I went in and figured out what the issue was. The issue actually originated from AI_tool class. I hadn't refactored the message being sent to the API. It was trying to format it like a dictionary like the API used to want. So now I have the recipe generation working. Tomorrow I'll work on populating the data into the website and generating an image for the user to see.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 19, 2024</h1>
            <p>
                Leaving these here so I don't loose them.<br><br>
                <a href="https://aws.amazon.com/tutorials/serve-a-flask-app/">Deploy Flask to AWS</a>
                <br>
                <a href="https://community.aws/tutorials/automating-your-container-deployments-with-cicd-and-github-actions?ref=dc&id=dc-handson">Github and AWS</a>
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 18, 2024</h1>
            <p>
                So today I spent some time working on getting image generation working again. OpenAI had made a few changes to their API that I had to work around, which were super easy to implement, but it didn't work after implementation. I spent probably an hour reading through the documentation, asking ChatGPT, reading stackoverflow, but nothing. Everything I was doing seemed to be set up right and should have been functioning, but it wasn't. Finally I started looking at my .env file and realized that it was saved as "env", rather than ".env". I changed it, and immediately it all worked. What it taught me was if the code isn't working, its probably an error I caused.
                <br><br>
                The next issue with the image generation is that OpenAI only allows for 5 requests a minute. Which while I'm just testing and using the site myself that should be plenty, but if we every get to a mass of users that may be an issue. I may need to look into other options for generating the images. I used to have it so that when the user requested images for their site it showed two options and they chose from the two, but with the updates to the API and Dall-E-3 it only allows for 1 image to be generated at a time. So I will probably just have to work with that. Show the user the one image, then allow them to request regeneration if they want to see a new image.
            </p>                      
        </section>
        <hr>
        <section class="devPost">
            <h1>February 17, 2024</h1>
            <p>
                I touched up the new blank recipe form. Right now it's storing the data in lists, may change eventually. I also began working on image generation. I need to read the OpenAI api documentation again, I think they changed how to access the API since last time I used it. I think it will be a pretty easy to fix, but it'll have wait until tomorrow.
            </p>                      
        </section>
        <hr>
        <section class="devPost">
            <h1>February 16, 2024</h1>
            <p>
                As I've been working on the form to add included and excluded ingredients. The form is working, except for the Enter Key submit. Right now the user types the ingredient into the input box and clicks add, doing so adds it to the list of ingredients internally and externally viewable by the user. I want the user to be able to hit enter to add the ingredient to the list, and they can, but the event listener triggers an error message, for the other input box, and then adds the ingredient to the correct list. But I am liking how the site is beginning to look, and I'm liking the UI for adding ingredients.
            </p>
            <h4>Site Preview</h4>
            <div class="preview">
                <img src="images/add_preview.webp" alt="Preview of add ingredients">
                <img src="images/added_preview.webp" alt="Preview of added ingredients">
            </div>
            <h4>Part 2</h4>
            <p>
                I spent some more time on the form and now it allows for the user to add via "Enter" or the button. I also figured out how to remove the specific item from the internal list. So now I'll be able to pass the correct ingredients to the AI recipe Generator. Next I'm going to finish the blank recipe form and work on 'storing' the data. From there I'm planning to add the ability to generate images, I want to just have a singular function that handles that so I need to work on how the form is storing the data. The original version of this project I got ahead of myself and kept running into issues where the data wasn't stored cleanly or uniformly so it was really hard to reuse code.
            </p>           
        </section>
        <hr>
        <section class="devPost">
            <h1>February 15, 2024</h1>
            <p>
                Today I worked on the JavaScript to populate the new recipe page. Its going pretty well, nothing too crazy. I started wondering how to best pass the added ingredients to the server the user is ready to generate their recipe and I decided to create a list in JavaScript. Right now every time a user adds an ingredient it gets added to the list. But for some reason when they click the remove button it won't remove it from the list. Here is the JavaScript:
                <br><br>
                ingredientsInclude = ingredientsInclude.filter(item => item != ingredient.textContent);
                <br><br>
                I'm going to have to figure out why its not working, and its probably something simple but I don't have it in me today to figure it out.
            </p>           
        </section>
        <hr>
        <section class="devPost">
            <h1>February 13, 2024</h1>
            <p>
                I began adding the new recipe process. And I found the main navigation icons I want to use. I can't decide if when the user presses the "+" for a new recipe if the menu should expand to show:
            </p>
                <ul>
                    <li>AI Assisted Recipe</li>
                    <li>Blank Recipe</li>
                </ul>
            <p>
                Or if when the user presses the button it should take them to a separate screen that starts with a drop down with those two options, and based off of their selection I use JS to build out the appropriate form.
            </p>
            <br><br>
            <p>
                After working on it for a little while I decided on a drop down on a new page that will then add the appropriate form to the new recipe page based on their selection. It will then hide the drop down to prevent the user from changing it by accident midway through the process.
            </p>
            <h4>TO ADD:</h4>
            <p>
                This could look really dumb, but I want to change the bullet points for "&lt;ul&gt;" to be 🍽️ or some other food-related emoji.
            </p>            
        </section>
        <hr>
        <section class="devPost">
            <h1>February 11, 2024</h1>
            <p>
                Today I started creating the python server and the home page for Chefs Cabinet. So far its just been super basic blocking things out. After I finish blocking on the homepage I'll start the new recipe process. After clicking the new recipe button, the user will need to select create recipe using AI or add personal recipe (I don't love the way add personal recipe sounds, so that'll probably change). If the user selects AI Recipe they will be directed to a form that will ask what ingredients they want to include and which they want to exclude. As I refine this process I may add more options like add the category you want to make, i.e. soup, pasta, pizza, mexican, casserole, etc. ...Actually as I type this out... I'm just going to add that from the start. The form will ask for ingredients, things to avoid, and category of food.
            </p>
            <h4>Concerns</h4>
            <p>
                As I'm beginning to rebuild the project, I have the old source code open. But as I'm looking through it I'm afraid to copy too much of it because I really don't want to end up with the same spaghetti code that I had before. The reason I wanted to start this project from was to be able to better structure the code as well as create a more cohesive design.
            </p>
        </section>
        <hr>
        <section class="devPost">
            <h1>February 9, 2024</h1>
            <p>
                Today I created the wireframe for the websites main feed. This will be where you can see all of the recipes posted by users you follow. Each recipe will have its own 'card'. The card will have a header with the recipe title as well as the user name. The card will then show the A.I. generated image of the recipe and the recipe description. under that it will show a preview of the comments on the post as well as reviews.
                <br><br>
                To see the full recipe the user needs to click anywhere on the image, description or header areas. After clicking this area the card will flip over and expand. The image will shrink and move to the left, the description will move up and next to the image. The rest of the card will show the ingredients and the instructions. The expanded card will be scrollable depending on how much of an overflow the content has. In mobile the card won't get wider it will just take up the full screen and become scrollable.
            </p>
        </section>
        <hr>
        <section class="devPost"></section>
            <h1>February 6, 2024</h1>
            <h4>Overview</h4>
            <p>
                Chefs Cabinet is a project that I've been working on for quite a while. I have/had a working local copy of the site but the project had many short comings. The project was a lot of spaghetti code and lots of repeated code. I have learned a lot about how to plan and structure a project and have made the decision to start over. I will be using the portions of the old project as I move forward but I wanted to be able to have a fresh start so that I could tackle the project in a smarter way.
                <br><br>
                As I continue to work on Chefs Cabinet I will be posting on this page to provide updates and log the history of the project.
            </p>
            <h4>Project Update</h4>
            <p>
                This week I have been working on this project landing page. I have created the Home Page, started the Dev Log, and added the old project to its own folder on GitHub called OLD-COOKS-CORNER. I wanted to preserve the old project and have quick access to the old source code. Right now I've just been adding the rough build of this home page. This week I'll be adding styling to this homepage as well as creating the wireframe for Chefs Cabinet.
            </p>
            <br>
            <p>
                I've been working on selecting colors and Typography for the site plan. And I'm awful at choosing colors. I found a color palette that I liked but I don't feel like they really mesh that well. I'll need to adjust them still.
            </p>
            <br>
            <p>
                I talked to Amber and we agreed that the background color needed to be lighter. So I lightened it up and I'm a lot happier with the look of the site. I finished adding the site styling and now just need to finalize the wireframe.
            </p>
        </section>
        <hr>
    </main>

    <footer>
        <p><br>Danny Ellis<br>United States</p>
        <p id="lastModified">Last Modification: </p>
    </footer>
    
    <script src="scripts/getdates.js"></script>
    
</body>
</html>